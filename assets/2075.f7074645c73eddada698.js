(self.webpackChunkFrontendReact=self.webpackChunkFrontendReact||[]).push([[2075],{62075:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ue});var a=r(1068),n=r.n(a),i=r(14310),s=r.n(i),l=r(20116),o=r.n(l),c=r(34074),u=r.n(c),m=r(78914),E=r.n(m),p=r(39649),f=r.n(p),d=r(20368),N=r.n(d),T=r(63978),A=r.n(T),S=r(30081),g=r(71509),P=r(69417),_=r(20530),h=r(26849),M=r(97647),C=r(81010),Z=r(10891),v=(r(68309),r(41539),r(88674),r(17727),r(32366)),R=r.n(v),y=r(86902),I=r.n(y),U=r(93476),b=r.n(U),O=r(77766),L=r.n(O),B=r(67294),k=r(49140),W=r(44012),w=r(64593),F=r(61409),G=r(8391),D=r(43011),x=r(43086),X=r(51782),q=r(61156),V=r(50045),H=r(55260),K=r(15094),Y=r(33644),j=r(3999);const z=(0,r(50049).vU)({title:{id:"PARTNERS_SIGNUP.TITLE",defaultMessage:"Apply for a Verified Account",description:"Partners signup form title"},valueMissing:{id:"PARTNERS_SIGNUP.FIELD_REQUIRED",defaultMessage:"This field is required",description:"Empty field error message"}});var Q,J,$,ee=r(56474),te=r.n(ee),re=r(63963);function ae(e,t){var r=I()(e);if(s()){var a=s()(e);t&&(a=o()(a).call(a,(function(t){return u()(e,t).enumerable}))),r.push.apply(r,a)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r,a=null!=arguments[t]?arguments[t]:{};if(t%2)E()(r=ae(Object(a),!0)).call(r,(function(t){(0,g.Z)(e,t,a[t])}));else if(f())N()(e,f()(a));else{var n;E()(n=ae(Object(a))).call(n,(function(t){A()(e,t,u()(a,t))}))}}return e}function ie(e){var t=function(){if("undefined"==typeof Reflect||!n())return!1;if(n().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,Z.Z)(e);if(t){var i=(0,Z.Z)(this).constructor;r=n()(a,arguments,i)}else r=a.apply(this,arguments);return(0,C.Z)(this,r)}}var se,le,oe="partners_signup",ce={CONTACT_NAME:"contact_name",CONTACT_EMAIL:"contact_email",USERNAME:"username",PASSWORD:"password",NAME:"name",PARENT_COMPANY:"parent_company",WEBSITE:"website",TERMS_CHECKBOX:"terms_checkbox"},ue=(Q=(0,k.connect)((function(e){return{isLoggedIn:(0,q.M7)(e),myDetails:(0,q.ad)(e).data}}),{signup:x.IU,changeProfile:X.WY}),J=(0,D.Z)(),se=$=Q($=J($=function(e){(0,M.Z)(r,e);var t=ie(r);function r(e){var a,n,i;(0,_.Z)(this,r),i=t.call(this,e),(0,g.Z)((0,S.Z)(i),"errorMessage",(function(e){var t=i.props.intl.formatMessage;return e.valueMissing?t(z.valueMissing):""})),(0,g.Z)((0,S.Z)(i),"handleSubmitError",(function(e){var t=e.inputName,r=e.type,a=e.error;i.setState({error:ne(ne({},i.state.error),{},(0,g.Z)({},t,ne(ne({value:!0},r&&{type:r}),a&&{message:i.errorMessage(a)}))),formError:!0})})),(0,g.Z)((0,S.Z)(i),"isFormError",(function(){var e,t=document.forms[oe].elements;return R()(e=I()(i.state.error)).call(e,(function(e,r){return t[r]?e||!!i.state.error[r].value||!t[r].validity.valid:e}),!1)})),(0,g.Z)((0,S.Z)(i),"updateFormErrorState",(function(){i.setState({formError:i.isFormError()})})),(0,g.Z)((0,S.Z)(i),"handleFormChange",(function(e){var t,r=e.target,a=r.checked,n=r.validity,s=r.value,l=r.name;i.setState((t={},(0,g.Z)(t,l,l===ce.TERMS_CHECKBOX?a:s),(0,g.Z)(t,"error",ne(ne({},i.state.error),{},(0,g.Z)({},l,n.valid?{value:!1}:{value:!0,message:i.errorMessage(n)}))),t),i.updateFormErrorState)})),(0,g.Z)((0,S.Z)(i),"updateUserDetails",(function(){var e=i.props,t=e.myDetails,r=e.changeProfile,a=t.name,n=t.profileUrl,s={};return a!==i.state[ce.NAME]&&(s.name=i.state[ce.NAME]),n!==i.state[ce.WEBSITE]&&(s.profileUrl=i.state[ce.WEBSITE]),r(s)})),(0,g.Z)((0,S.Z)(i),"handleSubmit",(function(e){e.preventDefault();var t=i.props.signup;i.setState({pending:!0}),(i.props.isLoggedIn?i.updateUserDetails().then(i.finishPartnerSignup):t({email:i.state[ce.CONTACT_EMAIL],username:i.state[ce.USERNAME],password:i.state[ce.PASSWORD]}).then(i.finishPartnerSignup,(function(e){return"EmailTaken"===(e.errorMessage||{}).code&&i.handleSubmitError({inputName:ce.CONTACT_EMAIL,type:"taken"}),b().reject()}))).finally((function(){i.setState({pending:!1})}))})),(0,g.Z)((0,S.Z)(i),"finishPartnerSignup",(function(){return i.sendPartnersSignupEmail().then(i.redirectToProfilePage)})),(0,g.Z)((0,S.Z)(i),"redirectToProfilePage",(function(){window.location="/@".concat(i.state[ce.USERNAME])})),(0,g.Z)((0,S.Z)(i),"handleUsernameError",(function(e){i.setState({error:ne(ne({},i.state.error),{},{username:e}),formError:!0})})),(0,g.Z)((0,S.Z)(i),"sendPartnersSignupEmail",(function(){var e={contact_name:i.state[ce.CONTACT_NAME],contact_email:i.state[ce.CONTACT_EMAIL],gfycat_username:i.state[ce.USERNAME],partner_name:i.state[ce.NAME],company:i.state[ce.PARENT_COMPANY],web_url:i.state[ce.WEBSITE]};return G.Z.sendPartnersSignupEmail(e)}));var s=i.props.myDetails,l=s.email,o=s.name,c=s.userid,u=s.profileUrl;return i.state=(n={formError:!0,error:ne({},R()(a=I()(ce)).call(a,(function(e,t){return e[ce[t]]={},e}),{})),pending:!1},(0,g.Z)(n,ce.CONTACT_EMAIL,l),(0,g.Z)(n,ce.NAME,o),(0,g.Z)(n,ce.USERNAME,c),(0,g.Z)(n,ce.WEBSITE,u),n),i}return(0,h.Z)(r,[{key:"render",value:function(){var e,t,r,a=this.state,n=a.formError,i=a.pending,s=this.props.isLoggedIn,l=B.createElement(W.Z,{id:"PARTNERS_SIGNUP.CHECKBOX_LABEL",defaultMessage:"I have read, understand, and agree to the {termsOfService} and {partnerTerms}",values:{termsOfService:B.createElement(F.rU,{className:"form-link",to:"/terms",target:"_blank"},B.createElement(W.Z,j.Z.termsOfService)),partnerTerms:B.createElement(F.rU,{className:"form-link",to:"/partners/terms",target:"_black"},B.createElement(W.Z,{id:"PARTNERS_SIGNUP.PARTNER_TERMS",defaultMessage:"Partner Terms",description:"Partner Terms link text"}))}}),o=this.props.intl.formatMessage(z.title);return B.createElement(Y.C,null,B.createElement("div",{className:"partners-signup-container form-container"},B.createElement(w.Z,function(e){var t,r=e.title;return te()({title:r,meta:L()(t=[]).call(t,re.FM,[{name:"twitter:title",content:(0,re._r)(r)},{property:"og:url",content:"https://gfycat.com/partners/signup"},{property:"og:title",content:(0,re._r)(r)}])})}({title:o})),B.createElement("h1",null,o),B.createElement("form",{name:oe,onChange:this.handleFormChange,onSubmit:this.handleSubmit},B.createElement(K.ZP,{autoComplete:"off",autoCapitalize:"off",className:"form-input",error:this.state.error[ce.CONTACT_NAME],fullWidth:!0,label:B.createElement(W.Z,{id:"PARTNERS_SIGNUP.CONTACT_NAME_INPUT_LABEL",defaultMessage:"Contact name",description:"Contact name input label"}),name:ce.CONTACT_NAME,required:!0,type:"text"}),B.createElement(K.U5,{className:"form-input",defaultValue:s?this.state[ce.CONTACT_EMAIL]:void 0,disabled:s,error:this.state.error[ce.CONTACT_EMAIL],key:L()(e="".concat(ce.CONTACT_EMAIL,"-")).call(e,s),label:B.createElement(W.Z,{id:"PARTNERS_SIGNUP.CONTACT_EMAIL_INPUT_LABEL",defaultMessage:"Contact email address",description:"Contact email address input label"}),name:ce.CONTACT_EMAIL}),!s&&B.createElement(B.Fragment,null,B.createElement(K.XV,{className:"form-input",name:ce.USERNAME,onError:this.handleUsernameError}),B.createElement(K.WU,{className:"form-input",name:ce.PASSWORD})),B.createElement(K.ZP,{className:"form-input",defaultValue:this.state[ce.NAME],error:this.state.error[ce.NAME],fullWidth:!0,key:L()(t="".concat(ce.NAME,"-")).call(t,s),label:B.createElement(W.Z,{id:"PARTNERS_SIGNUP.NAME_INPUT_LABEL",defaultMessage:"Artist / Brand / Celebrity Name",description:"Partner name input label"}),maxLength:80,name:ce.NAME,required:!0,type:"text"}),B.createElement(K.ZP,{className:"form-input",fullWidth:!0,label:B.createElement(W.Z,{id:"PARTNERS_SIGNUP.PARENT_COMPANY_INPUT_LABEL",defaultMessage:"Parent company (if applicable)",description:"Parent company input label"}),name:ce.PARENT_COMPANY,type:"text"}),B.createElement(K.o3,{className:"form-input",defaultValue:this.state[ce.WEBSITE],key:L()(r="".concat(ce.WEBSITE,"-")).call(r,s),label:B.createElement(W.Z,{id:"PARTNERS_SIGNUP.WEBSITE_INPUT_LABEL",defaultMessage:"Company website or social profile: http(s)://example.com",description:"Company website or social profile input label"}),name:ce.WEBSITE,required:!0}),B.createElement(H.Z,{className:"terms-checkbox",id:"partnerTerms",label:l,name:ce.TERMS_CHECKBOX,required:!0,value:this.state[ce.TERMS_CHECKBOX]}),B.createElement(V.ZP,{className:"submit-button",type:V.V5.FILLED,disabled:n,fullWidth:!0,pending:i,submit:!0},B.createElement(W.Z,{id:"PARTNER_SIGNUP.SIGNUP_BUTTON_TEXT",defaultMessage:"Apply Now",description:"Partners signup button text"})),B.createElement("div",{className:"info-text"},B.createElement(W.Z,{id:"PARTNERS_SIGNUP.INFO_TEXT",defaultMessage:"If you have any questions, please send us an email to {email} and a Gfycat representative will assist you.",description:"Parners signup additional info",values:{email:B.createElement("a",{className:"form-link",href:"mailto:partners@gfycat.com"},"partners@gfycat.com")}})))))}}]),r}(B.Component))||$)||$,(0,k.connect)((function(e){return{isReady:(0,q.p5)(e)&&(!(0,q.M7)(e)||(0,q.ad)(e).isReady)}}))(le=function(e){(0,M.Z)(r,e);var t=ie(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,h.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.isReady,r=(0,P.Z)(e,["isReady"]);return t?B.createElement(se,r):null}}]),r}(B.Component))||le||$)}}]);