(self.webpackChunkFrontendReact=self.webpackChunkFrontendReact||[]).push([[4317],{20455:(e,t,r)=>{e.exports=r(47795)},4317:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_e});var n,a=r(1068),i=r.n(a),l=r(20530),o=r(26849),s=r(97647),c=r(81010),u=r(10891),f=r(67294),m=r(49140),d=r(64593),p=r(30081),E=r(71509),v=r(77766),h=r.n(v),T=r(93476),Z=r.n(T),g=r(50049),I=r(44012),R=r(43011),N=r(51782),y=r(61156),S=r(75120),O=r(48195);var L=(0,g.vU)({emailRequired:{id:"SETTINGS.EMAIL_REQUIRED",description:"Validation error: Email is a required field",defaultMessage:"Email is required"},invalidEmail:{id:"SETTINGS.INVALID_EMAIL",defaultMessage:"Enter valid email",description:"Validation error: Invalid email address"},emailTaken:{id:"SETTINGS.EMAIL_TAKEN",defaultMessage:"Email taken",description:"Validation error: Someone else is already using this email address"}});const M=(0,R.Z)()(n=(0,m.connect)((function(e){return{profile:(0,y.ad)(e)}}),{changeEmail:N.Uk})(n=function(e){(0,s.Z)(a,e);var t,r,n=(t=a,r=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.Z)(t);if(r){var a=(0,u.Z)(this).constructor;e=i()(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function a(){var e,t;(0,l.Z)(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n.call.apply(n,h()(e=[this]).call(e,i)),(0,E.Z)((0,p.Z)(t),"onSubmit",(function(e){var r=e.email;return t.props.changeEmail(r).then(null,(function(e){var r=e.code;return Z().reject(t.translateServerError(r))}))})),(0,E.Z)((0,p.Z)(t),"validate",(function(e,r){var n=r.email,a=t.props.intl,i={};return!n||n.valueMissing?i.email=a.formatMessage(L.emailRequired):n.typeMismatch&&(i.email=a.formatMessage(L.invalidEmail)),i})),t}return(0,o.Z)(a,[{key:"translateServerError",value:function(e){var t=this.props.intl;switch(e){case"EmailTaken":return{email:t.formatMessage(L.emailTaken)};case"InvalidEmail":return{email:t.formatMessage(L.invalidEmail)};default:return{email:t.formatMessage(O.Z.unknownError)}}}},{key:"render",value:function(){var e=this.props.profile,t=e.isReady,r=e.isSaving,n=e.data;return f.createElement("div",{className:"settings-form account-form"},t?f.createElement(f.Fragment,null,f.createElement("h2",{className:"settings-section__title"},this.props.intl.formatMessage(O.Z.accountFormTitle)),f.createElement(S.lB,{data:{email:n.email||""},onSubmit:this.onSubmit,validate:this.validate,isSaving:r},(function(e){var t=e.data,r=e.errors;return e.serverError,f.createElement(S.Wi,{autoFocus:!0,name:"email",type:"email",hint:f.createElement(I.Z,O.Z.emailInputHint),value:t.email,error:r.email,required:!0},f.createElement(I.Z,{id:"SETTINGS.EMAIL",defaultMessage:"Email",description:"Email address form field label"}))}))):null)}}]),a}(f.Component))||n)||n;r(68309),r(82526),r(41817);var A,k=r(78914),b=r.n(k),_=r(51942),U=r.n(_),F=r(61409),P=r(50045),B=r(60817);const D=(0,m.connect)((function(e){return{profile:(0,y.ad)(e),pending:(0,y.FO)(e)}}))(A=function(e){(0,s.Z)(a,e);var t,r,n=(t=a,r=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.Z)(t);if(r){var a=(0,u.Z)(this).constructor;e=i()(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function a(){return(0,l.Z)(this,a),n.apply(this,arguments)}return(0,o.Z)(a,[{key:"render",value:function(){var e=this.props.profile.data.profileImageUrl,t=this.props.pending;return f.createElement("div",{className:"profile-image-form"},f.createElement(B.Z,{url:e,canEdit:!0}),f.createElement("div",{className:"right-block"},f.createElement("div",{className:"input-label gfycat-text-regular"},f.createElement(I.Z,O.Z.profilePictureInputLabel)),f.createElement(P.ZP,{className:"new-image-button",type:P.V5.FILLED,disabled:t},f.createElement(I.Z,O.Z.uploadNewImageButtonText),f.createElement(B.f,null)),f.createElement("div",{className:"hint-text gfycat-text-hint"},f.createElement(I.Z,O.Z.profilePictureInputHint))))}}]),a}(f.Component))||A;var C,w,G,x=r(62943);r(12277);var K=(0,g.vU)({descriptionTooLong:{id:"SETTINGS.DESCRIPTION_TOO_LONG",defaultMessage:"Description should be from 1 to 150 characters long",description:"Validation error: description is too long"}});const W=(C=(0,R.Z)(),w=(0,m.connect)((function(e){return{profile:(0,y.ad)(e)}}),{changeProfile:N.WY}),(0,F.EN)(G=C(G=w(G=function(e){(0,s.Z)(a,e);var t,r,n=(t=a,r=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.Z)(t);if(r){var a=(0,u.Z)(this).constructor;e=i()(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function a(){var e,t;(0,l.Z)(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n.call.apply(n,h()(e=[this]).call(e,i)),(0,E.Z)((0,p.Z)(t),"onSubmit",(function(e,r){return t.props.changeProfile(r).then(null,(function(e){return Z().reject(t.translateServerErrors(e))}))})),(0,E.Z)((0,p.Z)(t),"shouldAutoFocus",(function(e){try{return t.props.location.state.edit===e}catch(e){return!1}})),t}return(0,o.Z)(a,[{key:"translateServerErrors",value:function(e){var t=this,r={};return b()(e).call(e,(function(e){U()(r,t.translateServerError(e.errorMessage.code))})),r}},{key:"translateServerError",value:function(e){var t=this.props.intl;switch(e){case"InvalidName":return{name:t.formatMessage(O.Z.unknownError)};case"InvalidUrl":return{profileUrl:t.formatMessage(x.R.patternMismatch)};case"InvalidDescription":return{description:t.formatMessage(K.descriptionTooLong)};default:return{name:t.formatMessage(O.Z.unknownError)}}}},{key:"render",value:function(){var e=this,t=this.props.profile,r=t.data,n=t.isReady,a=t.isSaving,i=r.name,l=r.profileUrl,o=r.description;return f.createElement("div",{className:"settings-form profile-form"},n?f.createElement(f.Fragment,null,f.createElement("h2",{className:"settings-section__title"},this.props.intl.formatMessage(O.Z.profileInfoFormTitle)),f.createElement(D,null),f.createElement(S.lB,{data:{name:i||"",profileUrl:l||"",description:o||""},onSubmit:this.onSubmit,validate:this.validate,isSaving:a},(function(t){var r=t.data,n=t.errors;return t.serverError,f.createElement(f.Fragment,null,f.createElement(S.Wi,{className:"profile-form__name-input",name:"name",value:r.name,error:n.name,maxLength:30,autoFocus:e.shouldAutoFocus("name")},f.createElement(I.Z,{id:"PROFILE.NAME",defaultMessage:"Name",description:"Your name field label for profile"})),f.createElement(S.Wi,{className:"profile-form__description-input",name:"description",value:r.description,error:n.description,type:"textarea",rows:"6",maxLength:150,showLengthIndicator:!0,autoFocus:e.shouldAutoFocus("description")},f.createElement(I.Z,{id:"PROFILE.DESCRIPTION",defaultMessage:"Description",description:"Your description field label for profile"})),f.createElement(S.Wi,{autoFocus:e.shouldAutoFocus("url"),className:"profile-form__url-input",error:n.profileUrl,hint:f.createElement(I.Z,{id:"PROFILE_FORM.URL_INPUT_HINT",defaultMessage:"Your personal website, blog, or social media url e.g. https://twitter.com/gfycat",description:"Website URL input hint"}),name:"profileUrl",value:r.profileUrl},f.createElement(I.Z,{id:"PROFILE.WEBSITE_URL",defaultMessage:"Your Website",description:"Your website field label for profile"})))})),f.createElement("div",{className:"creation-date gfycat-text-regular"},f.createElement(I.Z,{id:"SETTINGS.ACCOUNT_CREATED",defaultMessage:"Account created on {date}",description:"The date when your gfyCat account was created.",values:{date:f.createElement(g.Ji,{value:new Date(1e3*r.createDate),year:"numeric",month:"long",day:"numeric"})}}))):null)}}]),a}(f.Component))||G)||G)||G);var Y=r(14310),H=r.n(Y),V=r(34074),j=r.n(V),q=r(39649),z=r.n(q),$=r(20368),J=r.n($),Q=r(63978),X=r.n(Q),ee=(r(24603),r(74916),r(39714),r(29254),r(32366)),te=r.n(ee),re=r(20455),ne=r.n(re),ae=r(2991),ie=r.n(ae),le=r(86902),oe=r.n(le),se=r(81643),ce=r.n(se),ue=r(20116),fe=r.n(ue),me=r(74806),de=r(56474),pe=r.n(de);const Ee=pe()({FACEBOOK:"Facebook",TWITTER:"Twitter",INSTAGRAM:"Instagram",TUMBLR:"Tumblr",REDDIT:"Reddit",YOUTUBE:"YouTube",PATREON:"Patreon"});var ve;function he(e,t){var r=oe()(e);if(H()){var n=H()(e);t&&(n=fe()(n).call(n,(function(t){return j()(e,t).enumerable}))),r.push.apply(r,n)}return r}const Te=function(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)b()(r=he(Object(n),!0)).call(r,(function(t){(0,E.Z)(e,t,n[t])}));else if(z())J()(e,z()(n));else{var a;b()(a=he(Object(n))).call(a,(function(t){X()(e,t,j()(n,t))}))}}return e}({placeholder:(0,g.vU)((ve={},(0,E.Z)(ve,Ee.FACEBOOK,{id:"SETTINGS.FACEBOOK_LINK_PLACEHOLDER",defaultMessage:"Facebook page or profile link",description:"Facebook link placeholder"}),(0,E.Z)(ve,Ee.TWITTER,{id:"SETTINGS.TWITTER_LINK_PLACEHOLDER",defaultMessage:"username",description:"Twitter link placeholder"}),(0,E.Z)(ve,Ee.INSTAGRAM,{id:"SETTINGS.INSTAGRAM_LINK_PLACEHOLDER",defaultMessage:"username",description:"Instagram link placeholder"}),(0,E.Z)(ve,Ee.TUMBLR,{id:"SETTINGS.TUMBLR_LINK_PLACEHOLDER",defaultMessage:"Tumblr link",description:"Tumblr link placeholder"}),(0,E.Z)(ve,Ee.REDDIT,{id:"SETTINGS.REDDIT_LINK_PLACEHOLDER",defaultMessage:"Reddit user profile or subreddit link",description:"Reddit link placeholder"}),(0,E.Z)(ve,Ee.YOUTUBE,{id:"SETTINGS.YOUTUBE_LINK_PLACEHOLDER",defaultMessage:"YouTube channel link",description:"Youtube link placeholder"}),(0,E.Z)(ve,Ee.PATREON,{id:"SETTINGS.PATREON_LINK_PLACEHOLDER",defaultMessage:"Patreon profile link",description:"Patreon link placeholder"}),ve))},(0,g.vU)({socialLinkError:{id:"SETTINGS.SOCIAL_LINK_ERROR",defaultMessage:"Invalid URL",description:"Social link input error"},usernameError:{id:"SETTINGS.SOCIAL_USERNAME_ERROR",defaultMessage:"Invalid username",description:"Social username input error"}}));var Ze,ge,Ie,Re,Ne=r(15094);function ye(e,t){var r=oe()(e);if(H()){var n=H()(e);t&&(n=fe()(n).call(n,(function(t){return j()(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)b()(r=ye(Object(n),!0)).call(r,(function(t){(0,E.Z)(e,t,n[t])}));else if(z())J()(e,z()(n));else{var a;b()(a=ye(Object(n))).call(a,(function(t){X()(e,t,j()(n,t))}))}}return e}var Oe=(Ze={},(0,E.Z)(Ze,Ee.FACEBOOK,1),(0,E.Z)(Ze,Ee.TWITTER,2),(0,E.Z)(Ze,Ee.INSTAGRAM,3),(0,E.Z)(Ze,Ee.TUMBLR,4),(0,E.Z)(Ze,Ee.REDDIT,5),(0,E.Z)(Ze,Ee.YOUTUBE,6),(0,E.Z)(Ze,Ee.PATREON,7),Ze),Le=(ge={},(0,E.Z)(ge,Ee.FACEBOOK,"facebook.com"),(0,E.Z)(ge,Ee.TUMBLR,"tumblr.com"),(0,E.Z)(ge,Ee.REDDIT,"reddit.com"),(0,E.Z)(ge,Ee.YOUTUBE,"youtube.com"),(0,E.Z)(ge,Ee.PATREON,"patreon.com"),ge);const Me=(Ie=(0,m.connect)((function(e){var t,r=(0,y.ad)(e).data;return{formData:te()(t=ne()(Ee)).call(t,(function(e,t){return Se(Se({},e),{},(0,E.Z)({},t,r["socialUrl".concat(Oe[t])]||""))}),{})}}),{updateSocialUrls:N.Ti}),(0,me.ZP)(Re=Ie(Re=(0,F.EN)(Re=function(e){(0,s.Z)(a,e);var t,r,n=(t=a,r=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.Z)(t);if(r){var a=(0,u.Z)(this).constructor;e=i()(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function a(){var e,t;(0,l.Z)(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n.call.apply(n,h()(e=[this]).call(e,i)),(0,E.Z)((0,p.Z)(t),"state",{error:{}}),(0,E.Z)((0,p.Z)(t),"handleSubmit",(function(e,r){var n,a=ie()(n=oe()(r)).call(n,(function(e){return{id:Oe[e],url:r[e]}}));return t.props.updateSocialUrls(a)})),(0,E.Z)((0,p.Z)(t),"handleChange",(function(e){return function(r){var n=r.target.value.toLowerCase(),a=t.props.intl.formatMessage,i={value:!1};n&&e===Ee.INSTAGRAM?RegExp("^[_.a-zA-Z0-9]+$").test(n)||(i={value:!0,message:a(Te.usernameError)}):n&&e===Ee.TWITTER?RegExp("^[_a-zA-Z0-9]+$").test(n)||(i={value:!0,message:a(Te.usernameError)}):n&&-1===ce()(n).call(n,Le[e])&&(i={value:!0,message:a(Te.socialLinkError)});var l=t.state.error;l[e]&&l[e].value===i.value||t.setState({error:Se(Se({},l),{},(0,E.Z)({},e,i))})}})),(0,E.Z)((0,p.Z)(t),"validateForm",(function(e){var r;return fe()(r=ne()(t.state.error)).call(r,(function(e){return e.value}))})),(0,E.Z)((0,p.Z)(t),"shouldAutoFocus",(function(){try{return"links"===t.props.location.state.edit}catch(e){return!1}})),(0,E.Z)((0,p.Z)(t),"link",(function(e){var r=e.id,n=e.className,a=e.autoFocus,i=t.props,l=i.intl,o=i.formData,s=t.state.error;return f.createElement(Ne.ZP,{autoFocus:a,className:n,label:r,name:r,fullWidth:!0,placeholder:l.formatMessage(Te.placeholder[r]),defaultValue:o[r],error:s[r],onChange:t.handleChange(r)})})),t}return(0,o.Z)(a,[{key:"render",value:function(){var e=this,t=this.props.formData,r=this.link;return f.createElement(S.lB,{className:"settings-form social-links-form",data:t,onSubmit:this.handleSubmit,validate:this.validateForm},(function(t){return t.data,t.errors,f.createElement("div",null,f.createElement("h2",{className:"settings-section__title"},f.createElement(I.Z,O.Z.socialLinksFormTitle)),f.createElement("div",{className:"social-links-wrapper"},f.createElement(r,{id:Ee.FACEBOOK,autoFocus:e.shouldAutoFocus()}),f.createElement(r,{className:"twitter-link-input",id:Ee.TWITTER})),f.createElement("div",{className:"social-links-wrapper"},f.createElement(r,{id:Ee.INSTAGRAM,className:"instagram-link-input"}),f.createElement(r,{id:Ee.TUMBLR})),f.createElement("div",{className:"social-links-wrapper"},f.createElement(r,{id:Ee.REDDIT}),f.createElement(r,{id:Ee.YOUTUBE})),f.createElement("div",{className:"social-links-wrapper"},f.createElement(r,{id:Ee.PATREON})))}))}}]),a}(f.Component))||Re)||Re)||Re);var Ae,ke=r(63963),be=r(6111);const _e=(0,m.connect)((function(e){return{isVerified:(0,y.B1)(e),isPro:(0,y.Os)(e)}}))(Ae=(0,R.Z)()(Ae=(0,be.Z)("settings_pageview",{params:{context:"account"}})(Ae=function(e){(0,s.Z)(a,e);var t,r,n=(t=a,r=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.Z)(t);if(r){var a=(0,u.Z)(this).constructor;e=i()(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function a(){return(0,l.Z)(this,a),n.apply(this,arguments)}return(0,o.Z)(a,[{key:"render",value:function(){var e,t=this.props,r=t.isVerified,n=t.isPro;return f.createElement(f.Fragment,null,f.createElement(d.Z,(e={title:this.props.intl.formatMessage(O.Z.accountPageTitle)}.title,pe()({title:e,meta:[{name:"twitter:title",content:(0,ke._r)(e)},{property:"og:url",content:"https://gfycat.com/settings/account"},{property:"og:title",content:(0,ke._r)(e)}]}))),f.createElement(M,null),f.createElement(W,null),r||n?f.createElement(Me,null):null)}}]),a}(f.Component))||Ae)||Ae)||Ae},98430:(e,t,r)=>{r(26614);var n=r(54058);e.exports=n.Object.values},88810:(e,t,r)=>{var n=r(55746),a=r(14771),i=r(74529),l=r(36760).f,o=function(e){return function(t){for(var r,o=i(t),s=a(o),c=s.length,u=0,f=[];c>u;)r=s[u++],n&&!l.call(o,r)||f.push(e?[r,o[r]]:o[r]);return f}};e.exports={entries:o(!0),values:o(!1)}},26614:(e,t,r)=>{var n=r(76887),a=r(88810).values;n({target:"Object",stat:!0},{values:function(e){return a(e)}})},47795:(e,t,r)=>{var n=r(98430);e.exports=n}}]);