(self.webpackChunkFrontendReact=self.webpackChunkFrontendReact||[]).push([[8271],{73628:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});const t=(0,s(50049).vU)({forgotPassword:{id:"LOGIN.FORGOT_PASSWORD",defaultMessage:"Forgot your password?",description:"Login page - forgot password link text"},loginError:{id:"LOGIN.ERROR_MESSAGE",defaultMessage:"Incorrect username or password. Please try again",description:"Login page - error text"},passwordPlaceholder:{id:"LOGIN.PASSWORD_INPUT_LABEL",description:"Password input label",defaultMessage:"Enter password"},title:{id:"LOGIN.PAGE_TITLE",defaultMessage:"Log In to Gfycat",description:"Login page title"},userPlaceholder:{id:"LOGIN.USERNAME_INPUT_LABEL",description:"Username/email input label",defaultMessage:"Enter username or email address"}})},38271:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>k});var t=s(1068),a=s.n(t),o=s(20530),n=s(26849),i=s(30081),d=s(97647),c=s(81010),l=s(10891),w=s(71509),p=s(77766),u=s.n(p),f=s(93476),m=s.n(f),g=s(67294),P=s(49140),h=s(50049),S=s(44012),E=s(64593),v=s(61409),N=s(10754),T=s(51782),M=s(75120),R=s(61156),I=s(94870),y=s(43011),O=s(73628),Z=s(48195),_=s(99811),A=s(56474),G=s.n(A),C=s(63963);const D='<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m22 18v4h-4v-3h-3v-3h-3l-2.26-2.26c-.55.17-1.13.26-1.74.26a6 6 0 0 1 -6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6c0 .61-.09 1.19-.26 1.74zm-15-13a2 2 0 0 0 -2 2 2 2 0 0 0 2 2 2 2 0 0 0 2-2 2 2 0 0 0 -2-2z"/></svg>';var L,W=s(6111);var b=(0,h.vU)({passwordRequired:{id:"SETTINGS.PASSWORD_REQUIRED",defaultMessage:"Password is required",description:"Password is a required field in this form"},passwordTooShort:{id:"SETTINGS.PASSWORD_TOO_SHORT",defaultMessage:"Your password must be at least 4 characters",description:"The password you entered was too short"},passwordDoesntMatch:{id:"SETTINGS.PASSWORD_DOESNT_MATCH",defaultMessage:"Password doesn't match!",description:"You did not enter the same password in the password confirmation field"},invalidPassword:{id:"SETTINGS.INVALID_PASSWORD",defaultMessage:"Invalid password",description:"The password you entered was incorrect"}});const k=(0,y.Z)()(L=(0,P.connect)((function(e){return{profile:(0,R.ad)(e)}}),{changePassword:T.Cp,showToastNotification:I.I})(L=(0,W.Z)("settings_pageview",{params:{context:"password"}})(L=function(e){(0,d.Z)(p,e);var r,s,t=(r=p,s=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,l.Z)(r);if(s){var o=(0,l.Z)(this).constructor;e=a()(t,arguments,o)}else e=t.apply(this,arguments);return(0,c.Z)(this,e)});function p(){var e,r;(0,o.Z)(this,p);for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return r=t.call.apply(t,u()(e=[this]).call(e,a)),(0,w.Z)((0,i.Z)(r),"onSubmit",(function(e){var s=e.currentPassword,t=e.newPassword;return r.props.changePassword({currentPassword:s,newPassword:t}).then((function(){r.props.showToastNotification({toastType:_.N.CHANGES_SAVED,icon:g.createElement(N.Z,{className:"ic ic-key",svg:D})})}),(function(e){var s=e.code;return m().reject(r.translateServerError(s))}))})),(0,w.Z)((0,i.Z)(r),"validate",(function(e){var s=e.currentPassword,t=e.newPassword,a=e.confirmNewPassword,o=r.props.intl,n={};return s?s.length<4&&(n.currentPassword=o.formatMessage(b.passwordTooShort)):n.currentPassword=o.formatMessage(b.passwordRequired),t?t.length<4&&(n.newPassword=o.formatMessage(b.passwordTooShort)):n.newPassword=o.formatMessage(b.passwordRequired),a!==t&&(n.confirmNewPassword=o.formatMessage(b.passwordDoesntMatch)),n})),r}return(0,n.Z)(p,[{key:"translateServerError",value:function(e){var r=this.props.intl;switch(e){case"InvalidPassword":return{currentPassword:r.formatMessage(b.invalidPassword)};default:return{currentPassword:r.formatMessage(Z.Z.unknownError)}}}},{key:"render",value:function(){var e,r=this,s=this.props.profile.isSaving;return g.createElement("div",{className:"settings-form password-form"},g.createElement(E.Z,(e={title:this.props.intl.formatMessage(Z.Z.passwordSettingsTitle)}.title,G()({title:e,meta:[{name:"twitter:title",content:(0,C._r)(e)},{property:"og:url",content:"https://gfycat.com/settings/password"},{property:"og:title",content:(0,C._r)(e)}]}))),g.createElement(M.lB,{data:{currentPassword:"",newPassword:"",confirmNewPassword:""},onSubmit:this.onSubmit,validate:this.validate,isSaving:s},(function(e){var s=e.data,t=e.errors;return e.serverError,g.createElement(g.Fragment,null,g.createElement("h2",{className:"settings-section__title"},r.props.intl.formatMessage(Z.Z.passwordFormTitle)),g.createElement(M.Wi,{autoFocus:!0,name:"currentPassword",className:"current-password",autoComplete:"current-password",hint:g.createElement(v.rU,{className:"forgot-password-link",to:"/forgot-password"},g.createElement(S.Z,O.Z.forgotPassword)),type:"password",value:s.currentPassword,error:t.currentPassword},g.createElement(S.Z,{id:"SETTINGS.CURRENT_PASSWORD",defaultMessage:"Current Password",description:"Current password form field label"})),g.createElement(M.Wi,{name:"newPassword",className:"new-password",autoComplete:"new-password",type:"password",value:s.newPassword,error:t.newPassword},g.createElement(S.Z,{id:"SETTINGS.NEW_PASSWORD",defaultMessage:"New Password",description:"New password form field label"})),g.createElement(M.Wi,{name:"confirmNewPassword",className:"confirm-new-password",autoComplete:"new-password",type:"password",value:s.confirmNewPassword,error:t.confirmNewPassword},g.createElement(S.Z,{id:"SETTINGS.CONFIRM_NEW_PASSWORD",defaultMessage:"Confirm New Password",description:"Confirm new password form field label"})))})))}}]),p}(g.Component))||L)||L)||L}}]);