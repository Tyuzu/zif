(self.webpackChunkFrontendReact=self.webpackChunkFrontendReact||[]).push([[296],{70296:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>fe});var i=n(1068),a=n.n(i),o=n(14310),s=n.n(o),r=n(20116),c=n.n(r),l=n(34074),f=n.n(l),u=n(39649),T=n.n(u),d=n(20368),m=n.n(d),I=n(63978),E=n.n(I),N=n(20594),g=n(20530),p=n(26849),S=n(30081),y=n(97647),O=n(81010),h=n(10891),_=n(71509),v=(n(74916),n(23123),n(77766)),G=n.n(v),w=n(78914),C=n.n(w),M=n(86902),F=n.n(M),A=n(36384),Z=n.n(A),b=n(66419),D=n.n(b),k=n(67294),L=n(49140),R=n(44012),W=n(64593),B=n(61156),x=n(69417),U=n(93476),H=n.n(U),Y=n(8391),j=n(8649),P=n(43011),K=n(81643),X=n.n(K),z=(n(68309),n(55260)),q=n(50049);function J(e,t){var n=F()(e);if(s()){var i=s()(e);t&&(i=c()(i).call(i,(function(t){return f()(e,t).enumerable}))),n.push.apply(n,i)}return n}const Q=function(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)C()(n=J(Object(i),!0)).call(n,(function(t){(0,_.Z)(e,t,i[t])}));else if(T())m()(e,T()(i));else{var a;C()(a=J(Object(i))).call(a,(function(t){E()(e,t,f()(i,t))}))}}return e}({digest:(0,q.vU)({daily:{id:"SETTINGS.NOTIFICATION_DAILY_DIGEST",defaultMessage:"Daily digest emails",description:"Email notification daily digest"},weekly:{id:"SETTINGS.NOTIFICATION_WEEKLY_DIGEST",defaultMessage:"Weekly digest emails",description:"Email notification weekly digest"},monthly:{id:"SETTINGS.NOTIFICATION_MONTHLY_DIGEST",defaultMessage:"Monthly digest emails",description:"Email notification monthly digest"}})},(0,q.vU)({productAnnouncement:{id:"SETTINGS.NOTIFICATION_PRODUCT_ANNOUNCEMENTS",defaultMessage:"Gfycat Product Annoucements",description:"Email notification product announcements"},digestHintText:{id:"SETTINGS.DIGEST_NOTIFICATION_HINT_TEXT",defaultMessage:"Summary of how your Gfycats are doing, new Gfycats from people you follow, and important notifications or activity you might have missed.",description:"Digest notification hint text"},upload:{id:"SETTINGS.NOTIFICATION_NEW_GIF",defaultMessage:"My new Gfycat finished uploading",description:"Email notification upload finished"},like:{id:"SETTINGS.NOTIFICATION_GIF_LIKED",defaultMessage:"Someone likes one of my Gfycats",description:"Email notification gif liked"},contentTrending:{id:"SETTINGS.NOTIFICATION_CONTENT_TRENDING",defaultMessage:"One of my GIFs is getting a large increase in views",description:"Email notification content trending"},follower:{id:"SETTINGS.NOTIFICATION_NEW_FOLLOWER",defaultMessage:"I gain a new follower",description:"Email notification new follower"},milestone:{id:"SETTINGS.NOTIFICATION_MILESTONE",defaultMessage:"I reach milestones",description:"Email notification milestone"},accountTrending:{id:"SETTINGS.NOTIFICATION_ACCOUNT_TRENDING",defaultMessage:"Iâ€™m a top creator",description:"Email notification account trending"},feed:{id:"SETTINGS.NOTIFICATION_FEED_UPDATED",defaultMessage:"Someone I follow uploads a new Gfycat",description:"Email notification feed updated"},emailWithSectionTitle:{id:"SETTINGS.EMAIL_WITH_NOTIFICATIONS_SECTION_TITLE",defaultMessage:"Email me with:",description:"Email with notifications section title"},emailWhenSectionTitle:{id:"SETTINGS.EMAIL_WHEN_NOTIFICATIONS_SECTION_TITLE",defaultMessage:"Email me when:",description:"Email when notifications section title"},notifyOnGfycatSectionTitle:{id:"SETTINGS.GFYCAT_NOTIFICATIONS_SECTION_TITLE",defaultMessage:"Notify me on Gfycat when:",description:"Gfycat notifications section title"},browserNotificationsSectionTitle:{id:"SETTINGS.BROWSER_NOTIFICATIONS_SECTION_TITLE",defaultMessage:"Browser Notifications",description:"Browser notifications section title"},enableBrowserNotificationButtonText:{id:"SETTINGS.BROWSER_NOTIFICATIONS_BUTTON_TEXT",defaultMessage:"Enable browser notifications",description:"Browser notifications button text"}})),V=(0,L.connect)((function(e){return{settings:(0,B.C9)(e).settings}}))((function(e){var t,n,i=e.className,a=e.hint,o=e.name,s=e.settings,r=e.type,c=-1!==X()(t=s[o]).call(t,r),l=G()(n="".concat(o,"-")).call(n,r),f="digest"===o?Q[o][r]:Q[o],u=a?k.createElement("div",{className:"hint-text gfycat-text-hint"},k.createElement(R.Z,a)):null;return k.createElement("div",{className:"notification-setting-item"},k.createElement(z.Z,{className:i,id:l,name:l,value:c}),k.createElement("label",{className:"gfycat-text-regular",htmlFor:l},k.createElement(R.Z,f)),u)}));var $,ee=n(75120),te=n(76301),ne=n(48195),ie=n(56474),ae=n.n(ie),oe=n(63963),se=n(6111);function re(e,t){var n=F()(e);if(s()){var i=s()(e);t&&(i=c()(i).call(i,(function(t){return f()(e,t).enumerable}))),n.push.apply(n,i)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)C()(n=re(Object(i),!0)).call(n,(function(t){(0,_.Z)(e,t,i[t])}));else if(T())m()(e,T()(i));else{var a;C()(a=re(Object(i))).call(a,(function(t){E()(e,t,f()(i,t))}))}}return e}var le="email";const fe=(0,L.connect)((function(e){return{notificationsSettings:(0,B.C9)(e)}}),{fetchNotificationsSettings:function(){return function(e,t){var n=(0,B.C9)(t()),i=n.promise,a=n.isReady;if(i)return i;if(a)return H().resolve();var o=Y.Z.getNotificationsSettings().then((function(t){var n=t.notificationSettings,i=void 0===n?{}:n,a=(i.userId,(0,x.Z)(i,["userId"]));e({type:j.eM,settings:a})}),(function(t){var n=t.errorMessage;e({type:j.hd,errorMessage:n})}));return e({type:j.bY,promise:o}),o}},updateNotificationsSettings:function(e){return function(t,n){return(0,B.C9)(n()).isFetching?H().resolve():(t({type:j.L5,newSettings:e}),Y.Z.updateNotificationsSettings(e).then((function(n){t({type:j.cE,newSettings:e})}),(function(e){var n=e.errorMessage;t({type:j.st,errorMessage:n})})))}}})($=(0,P.Z)()($=(0,se.Z)("settings_pageview",{params:{context:"notifications"}})($=function(e){(0,y.Z)(o,e);var t,n,i=(t=o,n=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,h.Z)(t);if(n){var o=(0,h.Z)(this).constructor;e=a()(i,arguments,o)}else e=i.apply(this,arguments);return(0,O.Z)(this,e)});function o(){var e,t;(0,g.Z)(this,o);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=i.call.apply(i,G()(e=[this]).call(e,a)),(0,_.Z)((0,S.Z)(t),"onSubmit",(function(e,n){var i,a=t.props,o=a.notificationsSettings.settings,s=a.updateNotificationsSettings,r=ce({},o);return C()(i=F()(n)).call(i,(function(e){var t=e.split("-"),i=(0,N.Z)(t,2),a=i[0],o=i[1],s=new(Z())(r[a]);n[e]?s.add(o):s.delete(o),r[a]=D()(s)})),s(r)})),t}return(0,p.Z)(o,[{key:"componentDidMount",value:function(){this.props.fetchNotificationsSettings()}},{key:"render",value:function(){var e,t=this.props.notificationsSettings,n=t.isFetching,i=t.isReady,a=t.isSaving;return k.createElement("div",{className:"settings-form notifications-form"},k.createElement(W.Z,(e={title:this.props.intl.formatMessage(ne.Z.notificationSettingsTitle)}.title,ae()({title:e,meta:[{name:"twitter:title",content:(0,oe._r)(e)},{property:"og:url",content:"https://gfycat.com/settings/notifications"},{property:"og:title",content:(0,oe._r)(e)}]}))),n||!i?k.createElement(te.Z,{size:30}):k.createElement(ee.lB,{data:{},onSubmit:this.onSubmit,isSaving:a},(function(e){return e.data,e.errors,k.createElement(k.Fragment,null,k.createElement("section",{className:"settings-section settings-section--event-notifications"},k.createElement("h2",{className:"settings-section__title"},k.createElement(R.Z,Q.emailWithSectionTitle)),k.createElement(V,{name:"productAnnouncement",type:le}),k.createElement(V,{name:"digest",type:"weekly",hint:Q.digestHintText}),k.createElement("h2",{className:"settings-section__title"},k.createElement(R.Z,Q.emailWhenSectionTitle)),k.createElement(V,{name:"upload",type:le}),k.createElement(V,{name:"like",type:le}),k.createElement(V,{name:"contentTrending",type:le}),k.createElement(V,{name:"follower",type:le}),k.createElement(V,{name:"milestone",type:le}),k.createElement(V,{name:"accountTrending",type:le}),k.createElement(V,{name:"feed",type:le})))})))}}]),o}(k.Component))||$)||$)||$}}]);