(self.webpackChunkFrontendReact=self.webpackChunkFrontendReact||[]).push([[6816],{31238:(e,t,n)=>{e.exports=n(66877)},41901:(e,t,n)=>{"use strict";n.d(t,{Z:()=>$,O:()=>J});var o,r,i,a=n(86902),c=n.n(a),s=n(14310),l=n.n(s),u=n(20116),d=n.n(u),p=n(34074),m=n.n(p),h=n(78914),f=n.n(h),v=n(39649),g=n.n(v),y=n(20368),b=n.n(y),C=n(63978),Z=n.n(C),w=n(1068),k=n.n(w),E=n(20530),A=n(26849),F=n(30081),I=n(97647),M=n(81010),T=n(10891),S=n(71509),x=n(31238),P=n.n(x),R=n(94198),O=n.n(R),L=n(67294),N=(n(45697),n(49140)),V=n(94184),_=n.n(V),j=n(10754),B=n(58709),D=n(9375),q=n(75878),W=n(2260),U=n(64535),G=n(63100),H=n(46830),K=n(30559),Y=n(19758);function z(e,t){var n=c()(e);if(l()){var o=l()(e);t&&(o=d()(o).call(o,(function(t){return m()(e,t).enumerable}))),n.push.apply(n,o)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n,o=null!=arguments[t]?arguments[t]:{};if(t%2)f()(n=z(Object(o),!0)).call(n,(function(t){(0,S.Z)(e,t,o[t])}));else if(g())b()(e,g()(o));else{var r;f()(r=z(Object(o))).call(r,(function(t){Z()(e,t,m()(o,t))}))}}return e}var X=(0,N.connect)((function(e){return{mobile:e.renderConfig.mobile}}))((i=r=function(e){(0,I.Z)(r,e);var t,n,o=(t=r,n=function(){if("undefined"==typeof Reflect||!k())return!1;if(k().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(k()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,T.Z)(t);if(n){var r=(0,T.Z)(this).constructor;e=k()(o,arguments,r)}else e=o.apply(this,arguments);return(0,M.Z)(this,e)});function r(e){var t;return(0,E.Z)(this,r),t=o.call(this,e),(0,S.Z)((0,F.Z)(t),"handlePlayerClick",(function(){if(t.props.controls&&!t.props.mobile){var e=(0,K.K)(t.props.gfyItem),n="https://gfycat.com/".concat(e);window.open(n,"_blank")}t.props.mobile&&t.state.muted&&t.handleShareOpen()})),(0,S.Z)((0,F.Z)(t),"handleShareOpen",(function(){t.setState({shareOpened:!0}),t.video&&t.video.pause()})),(0,S.Z)((0,F.Z)(t),"handleShareClose",(function(){t.setState({shareOpened:!1}),t.video&&t.video.play()})),(0,S.Z)((0,F.Z)(t),"handlePlayerStateChange",(function(e){var n=e.controlsVisible;t.state.userVisible!==n&&t.setState({userVisible:n})})),(0,S.Z)((0,F.Z)(t),"getRef",(function(e){t.video=e;var n=t.props.getRef;n&&n(e),t.video&&t.initEmbedlyReceiver()})),(0,S.Z)((0,F.Z)(t),"handleWindowMessage",(function(e){var n=e.data;if(n)switch(n){case"play":t.video&&t.video.play();break;case"pause":t.video&&t.video.pause()}})),(0,S.Z)((0,F.Z)(t),"handleSoundControlClick",(function(e,n){var o=n.muted;t.video.muted=o,t.setState({muted:o})})),(0,S.Z)((0,F.Z)(t),"initEmbedlyReceiver",(function(){"undefined"!=typeof playerjs&&(t.receiver=new playerjs.Receiver,t.receiver.on("play",(function(){t.video.play(),t.receiver.emit("play")})),t.receiver.on("pause",(function(){t.video.pause(),t.receiver.emit("pause")})),t.receiver.on("getCurrentTime",(function(e){return e(t.video.currentTime)})),t.receiver.on("setCurrentTime",(function(e){t.video.currentTime=e})),t.receiver.on("getPaused",(function(e){return e(t.video.paused)})),t.receiver.on("getDuration",(function(e){return e(t.video.duration)})),t.receiver.on("getVolume",(function(e){return e(100*t.video.volume)})),t.receiver.on("setVolume",(function(e){return t.video.volume=e/100})),t.receiver.on("mute",(function(){return t.video.mute=!0})),t.receiver.on("unmute",(function(){return t.video.mute=!1})),t.receiver.on("getMuted",(function(e){return e(t.video.mute)})),t.receiver.on("getLoop",(function(e){return e(t.video.loop)})),t.receiver.on("setLoop",(function(e){return t.video.loop=e})),t.video.addEventListener("ended",(function(){return t.receiver.emit("ended")})),t.video.addEventListener("timeupdate",(function(){t.receiver.emit("timeupdate",{seconds:t.video.currentTime,duration:t.video.duration})})),t.receiver.ready())})),(0,S.Z)((0,F.Z)(t),"user",(function(){var e=t.props,n=e.controls,o=e.gfyItem,r=t.state.userVisible,i=o.published,a=o.userData;return a&&n&&O()(i,10)?L.createElement("div",{key:"iframe-top",className:_()("iframe-top",{visible:r})},L.createElement(U.Z,{user:a,target:"_blank"})):null})),t.state={muted:!0,userVisible:t.props.controls,shareOpened:!1},t}return(0,A.Z)(r,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleWindowMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleWindowMessage)}},{key:"render",value:function(){var e=this,t=this.state,n=t.muted,o=t.shareOpened,r=this.props,i=r.autoPlay,a=r.backgroundColor,c=r.context,s=r.controls,l=r.forceVideo,u=r.gfyItem,d=r.hd,p=r.logo,m=r.loop,h=r.mobile,f=r.playbackRate,v=u.gfyId,g=u.hasAudio&&h?n?L.createElement(W.Z,{gfyId:v,onClick:this.handleSoundControlClick}):L.createElement(j.Z,{className:_()("ic ic-send",{low:!(0,H.Dt)()}),svg:Y.Z,onClick:this.handleShareOpen}):null,y=(0,G.Z)(u)?D.zb:D.nk,b=!l&&u.hasTransparency?h?L.createElement(D.Ee,{backgroundColor:a||"transparent",gfyItem:u,onClick:this.handlePlayerClick}):L.createElement(B.A,{context:c,backgroundColor:a||"transparent",gfyItem:u,controls:s,fullscreenElement:this.iframeContainer,onStateChange:this.handlePlayerStateChange,onClick:this.handlePlayerClick}):h?L.createElement(y,{highQuality:d,loop:m,backgroundColor:a||"#000000",getRef:this.getRef,gfyItem:u,controls:!n,onClick:this.handlePlayerClick}):L.createElement(B.Y,{autoPlay:i,backgroundColor:a||"#000000",context:c,controls:s,fullscreenElement:this.iframeContainer,getRef:this.getRef,gfyItem:u,hd:d,loop:m,logo:p,onClick:this.handlePlayerClick,onStateChange:this.handlePlayerStateChange,show360:!0,playbackRate:f}),C=h?o?L.createElement(q.Z,{context:c,gfyItem:u,onCloseButtonClick:this.handleShareClose}):null:this.user();return L.createElement("div",{className:"iframe-player-container",onClick:this.handleClick,ref:function(t){return e.iframeContainer=t}},b,C,g)}}]),r}(L.Component),(0,S.Z)(r,"defaultProps",{autoPlay:!0,controls:!0,forceVideo:!1,hd:!1,logo:!0,loop:!0,playbackRate:1}),o=i))||o,J=function(e){var t="0"!==e.autoplay;return Q(Q(Q(Q(Q({},void 0!==e.autoplay&&{autoPlay:t}),void 0!==e.controls&&t&&{controls:"0"!==e.controls,userVisible:"0"!==e.controls}),void 0!==e.speed&&!isNaN(P()(e.speed))&&{playbackRate:P()(e.speed)}),void 0!==e.loops&&!isNaN(O()(e.loops,10))&&{loops:O()(e.loops,10)}),void 0!==e.hd&&1===O()(e.hd,10)&&{hd:!0})};const $=X},16816:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>le});var o=n(1068),r=n.n(o),i=n(86902),a=n.n(i),c=n(14310),s=n.n(c),l=n(20116),u=n.n(l),d=n(34074),p=n.n(d),m=n(78914),h=n.n(m),f=n(39649),v=n.n(f),g=n(20368),y=n.n(g),b=n(63978),C=n.n(b),Z=n(52992),w=n(20530),k=n(26849),E=n(30081),A=n(97647),F=n(81010),I=n(10891),M=n(71509),T=n(54103),S=n.n(T),x=n(33032),P=n.n(x),R=n(67294),O=n(49140),L=n(94184),N=n.n(L),V=n(64593),_=n(61409),j=n(10754),B=n(33330),D=n(41901),q=n(6111),W=n(61156),U=n(35983),G=n(25784),H=n(94198),K=n.n(H),Y=n(77766),z=n.n(Y),Q=n(56474),X=n.n(Q),J=n(59340),$=n.n(J),ee=n(65589),te=n(12269);var ne,oe=n(58857),re=n(59376),ie=n(47149),ae=n(87875),ce=n(12907);function se(e,t){var n=a()(e);if(s()){var o=s()(e);t&&(o=u()(o).call(o,(function(t){return p()(e,t).enumerable}))),n.push.apply(n,o)}return n}var le=(0,O.connect)((function(e,t){var n=t.params.gfyId.toLowerCase(),o=(0,W.rg)(e,n);return{gfyId:n,gfyItem:o,mobile:(0,W.W7)(e),cleanContent:(0,ie.Id)(o),renderAds:(0,W.g3)(e)}}))(ne=(0,q.Z)("pageview_iframe",void 0,(function(e,t){return{context:(0,ce.q)(e.gfyItem.gatekeeper)}}))(ne=function(e){(0,A.Z)(i,e);var t,n,o=(t=i,n=function(){if("undefined"==typeof Reflect||!r())return!1;if(r().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,I.Z)(t);if(n){var i=(0,I.Z)(this).constructor;e=r()(o,arguments,i)}else e=o.apply(this,arguments);return(0,F.Z)(this,e)});function i(e){var t,n,r;(0,w.Z)(this,i),r=o.call(this,e),(0,M.Z)((0,E.Z)(r),"enableAd",!0),(0,M.Z)((0,E.Z)(r),"showAdCondition",!1),(0,M.Z)((0,E.Z)(r),"firstMouseEntered",!1),(0,M.Z)((0,E.Z)(r),"showAdFrequency",0),(0,M.Z)((0,E.Z)(r),"getAdConfig",(function(){var e=r.props,t=e.gfyItem,n=e.isLoggedIn;return{allaudiences:(0,re.Z)(t),account:n}}));var a=r.props.location.query;return r.playerProps=(0,D.O)(a),r.handleMouseEnter=S()(t=r.handleMouseEnter).call(t,(0,E.Z)(r)),r.handleMouseLeave=S()(n=r.handleMouseLeave).call(n,(0,E.Z)(r)),r.enableAd&&(void 0!==a.showAdFrequency&&(r.showAdFrequency=a.showAdFrequency),r.showAdCondition=Math.random()<=r.showAdFrequency),r.state={isAdVisible:!1},r}return(0,k.Z)(i,[{key:"componentDidMount",value:function(){this.props.cleanContent&&this.props.renderAds&&this.showAdCondition&&ae.Z.initAds(this.getAdConfig())}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.renderAds,o=t.cleanContent;n!==e.renderAds&&n&&o&&this.showAdCondition&&ae.Z.initAds(this.getAdConfig())}},{key:"componentWillUnmount",value:function(){clearTimeout(this.hideAdTimer),this.props.cleanContent&&this.props.renderAds&&this.showAdCondition&&ae.Z.clearAds()}},{key:"handleMouseEnter",value:function(){clearTimeout(this.hideAdTimer),this.firstMouseEntered||(this.firstMouseEntered=!0),this.state.isAdVisible||this.setState({isAdVisible:!0})}},{key:"handleMouseLeave",value:function(){var e=this;clearTimeout(this.hideAdTimer),this.hideAdTimer=P()((function(){e.setState({isAdVisible:!1})}),3e3)}},{key:"render",value:function(){var e=this.props,t=e.gfyItem,n=e.mobile,o=e.renderAds,r=e.cleanContent,i=t.gfyId,a=t.hasTransparency,c=t.views,s=this.state.isAdVisible;return R.createElement("div",{className:N()("iframe-container",{"has-transparency":a}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},R.createElement(V.Z,function(e){e.createDate;var t,n=e.extraLemmas,o=e.frameRate,r=e.gatekeeper,i=e.gfyId,a=e.gfyName,c=e.height,s=e.languageText,l=e.max5mbGif,u=e.mobilePosterUrl,d=e.mobileUrl,p=e.nsfw,m=e.numFrames,h=e.subreddit,f=e.tags,v=void 0===f?[]:f,g=e.title,y=e.userName,b=(e.views,e.width),C="0"===p&&0===K()(r,10)?"index":"noindex,noarchive,nosnippet,noodp,noydir,nocache",Z=g&&"untitled"!=g.toLowerCase()?g:null,w=z()(t="".concat(Z||"Gfycat"," - Create, Discover and Share Awesome GIFs")).call(t,Z?" on Gfycat":""),k=(0,ee.FT)({title:Z,tags:v}),E=(0,ee.jO)({tags:v,languageText:s}),A=(0,ee.Lq)({title:Z,tags:E,userName:y}),F=(0,ee.Hw)({subreddit:h,extraLemmas:n,languageText:s,tags:v}),I=b<=640?b:640,M=b<=640?c:K()(I/b*c,10),T="https://api.gfycat.com/v1/oembed?url=https://gfycat.com/".concat(encodeURIComponent(a)),S="https://gfycat.com/ifr/".concat(a),x="https://gfycat.com/".concat(i),P=(0,ee.g9)({frameRate:o,numFrames:m}),R=(0,te.vy)("https://gfycat.com/ifr/".concat(a),e);return X()({htmlAttributes:{lang:"en"},title:k,meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"},{"http-equiv":"X-UA-Compatible",content:"IE=edge, chrome=1"},{name:"robots",content:C},{name:"description",content:A},{name:"keywords",content:F},{name:"author",content:"Gfycat"},{name:"msvalidate.01",content:"2B4FF0FE01F14713C7AAC3BC41F0F777"},{name:"google-site-verification",content:"O3hEECEwrFnDhE5a1aBk2Flh3WT3cnb0PYeWWSsNfwE"},{property:"fb:app_id",content:958688167485836},{name:"p:domain_verify",content:"7e04e49a14f815cd10e520cb44c7c451"},{name:"twitter:card",content:"player"},{name:"twitter:title",content:w},{name:"twitter:url",content:S},{name:"twitter:image",content:l},{name:"twitter:image:src",content:l},{name:"twitter:player",content:S},{name:"twitter:player:width",content:b},{name:"twitter:player:height",content:c},{name:"twitter:description",content:A},{property:"og:type",content:"video"},{property:"og:url",content:l},{property:"og:title",content:w},{property:"og:description",content:A},{property:"og:image",content:l},{property:"og:image:width",content:I},{property:"og:image:height",content:M},{property:"og:image:secure_url",content:l},{property:"og:image",content:u},{property:"og:image:width",content:I},{property:"og:image:height",content:M},{property:"og:video",content:d},{property:"og:video:secure_url",content:d},{property:"og:video:type",content:"video/mp4"},{property:"og:video:width",content:I},{property:"og:video:height",content:M},{property:"og:video:duration",content:P},{property:"og:video:iframe",content:S},{name:"theme-color",content:"#2475FF"}],link:[{rel:"canonical",href:x},{rel:"alternate",type:"application/json+oembed",href:T,title:Z}],script:[{type:"application/javascript",src:"//cdn.embed.ly/player-0.1.0.min.js"},{type:"application/ld+json",innerHTML:$()(R)}]})}(function(e){for(var t=1;t<arguments.length;t++){var n,o=null!=arguments[t]?arguments[t]:{};if(t%2)h()(n=se(Object(o),!0)).call(n,(function(t){(0,M.Z)(e,t,o[t])}));else if(v())y()(e,v()(o));else{var r;h()(r=se(Object(o))).call(r,(function(t){C()(e,t,p()(o,t))}))}}return e}({},t))),R.createElement(R.Fragment,null,R.createElement(D.Z,(0,Z.Z)({context:"iframe",gfyItem:t},this.playerProps,{logo:!1})),R.createElement("div",{className:"iframe__bottom"},R.createElement(B.Z,{views:c}),!n&&r&&o&&this.showAdCondition&&this.firstMouseEntered?R.createElement("div",{className:N()("iframe-desktop-bottom-adunit",{visible:s})},R.createElement(G.Z,{loadBlockthrough:!1,id:oe.nk.DESKTOP_IFRAME_BOTTOM})):null,R.createElement(_.rU,{to:"/".concat(i),target:"_blank"},R.createElement(j.Z,{className:"ic logo",svg:U.Z})))))}}]),i}(R.Component))||ne)||ne},7579:(e,t,n)=>{n(49718);var o=n(54058);e.exports=o.parseFloat},81942:(e,t,n)=>{var o=n(21899),r=n(74853).trim,i=n(73483),a=o.parseFloat,c=1/a(i+"-0")!=-1/0;e.exports=c?function(e){var t=r(String(e)),n=a(t);return 0===n&&"-"==t.charAt(0)?-0:n}:a},49718:(e,t,n)=>{var o=n(76887),r=n(81942);o({global:!0,forced:parseFloat!=r},{parseFloat:r})},66877:(e,t,n)=>{var o=n(7579);e.exports=o}}]);